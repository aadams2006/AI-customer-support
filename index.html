<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Customer Support</title>
    <style>
        body, html {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
        }
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        header {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            text-align: center;
        }
        #chat-container {
            flex-grow: 1;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 20px;
            overflow-y: scroll;
            margin-bottom: 20px;
        }
        .input-area {
            display: flex;
            margin-bottom: 20px;
        }
        #user-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px 0 0 5px;
        }
        #send-btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }
        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        .user-message {
            background-color: #e9ecef;
            text-align: right;
        }
        .ai-message {
            background-color: #d1ecf1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Customer Support</h1>
        </header>
        <div id="chat-container"></div>
        <div class="input-area">
            <input type="text" id="user-input" placeholder="Type your message here...">
            <button id="send-btn">Send</button>
        </div>
    </div>

    <script>
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');

        // Simulated AI responses
        const aiResponses = [
            "Hello! How can I assist you today?",
            "I'm sorry to hear you're having trouble. Could you please provide more details about the issue?",
            "Thank you for providing that information. Have you tried restarting the device?",
            "I understand your frustration. Let me check our knowledge base for a solution.",
            "Based on what you've described, it seems like this might be a known issue. We have a fix available.",
            "Is there anything else I can help you with today?",
            "I'm glad I could assist you. Don't hesitate to reach out if you have any more questions!"
        ];

        let conversationHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];

        function addMessage(sender, message) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender.toLowerCase()}-message`;
            messageElement.textContent = message;
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // Save to conversation history
            conversationHistory.push({ sender, message });
            localStorage.setItem('chatHistory', JSON.stringify(conversationHistory));
        }

        function getAIResponse() {
            // In a real implementation, this would call an API
            return aiResponses[Math.floor(Math.random() * aiResponses.length)];
        }

        function sendMessage() {
            const message = userInput.value.trim();
            if (message) {
                addMessage('user', message);
                userInput.value = '';

                // Simulate AI response delay
                setTimeout(() => {
                    const aiResponse = getAIResponse();
                    addMessage('ai', aiResponse);
                }, 1000);
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Load conversation history
        conversationHistory.forEach(msg => addMessage(msg.sender, msg.message));

        // Initial greeting if no history
        if (conversationHistory.length === 0) {
            addMessage('ai', "Hello! Welcome to our AI Customer Support. How can I assist you today?");
        }
    </script>
</body>
</html>
